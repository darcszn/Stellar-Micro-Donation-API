This document provides a high-level overview of the Stellar Micro-Donation API architecture. It is designed to help contributors understand how the system components interact, from the initial API request to the final transaction on the Stellar blockchain.High-Level System ComponentsThe system is organized into a layered architecture to ensure a clean separation of concerns:ComponentResponsibilityAPI Layer (Express)Handles routing, request validation, and HTTP responses.Service LayerContains business logic for donations, recurring schedules, and analytics.Stellar IntegrationInterfaces with the Stellar Horizon API to submit transactions and monitor wallets.Data StoragePersists user profiles, donation history, and recurring subscription metadata.Worker / SchedulerManages automated triggers for recurring micro-donations.System Flow & Request LifecycleThe diagram below illustrates the typical path a request takes through the system:1. API Entry & ValidationWhen a request hits an endpoint (e.g., POST /donations), it first passes through Middleware for:Authentication (JWT/API Keys)Rate limitingPayload validation (Joi/Zod)2. Service LogicThe Controller delegates the validated data to the appropriate Service. For a donation:The Donation Service calculates fees and fetches recipient wallet addresses.The Wallet Service ensures the source account has sufficient XLM or assets.3. Blockchain InteractionThe Stellar Service utilizes the stellar-sdk to:Build a transaction.Sign the transaction using the encrypted private key (or a hardware wallet interface).Submit the transaction to the Horizon Network.4. Persistence & ResponseOnce the Stellar network confirms the transaction, the Data Layer updates the record status to completed. The API then returns a standardized JSON response containing the Stellar transaction hash.Key Abstractions and BoundariesThe "Stellar Wrapper": To keep the core logic clean, all blockchain-specific calls are abstracted. If we were to support another chain (like Soroban smart contracts) in the future, only this wrapper would need a new implementation.Recurring Engine: This uses a cron-based scheduler. It doesn't process payments directly; instead, it injects "Donation Jobs" into a queue to be processed by the Donation Service, ensuring consistency between manual and automated donations.Analytics Aggregator: A read-only service that queries the database to provide donation trends without putting load on the transactional Stellar integration.Simple Architecture Diagram (ASCII)Plaintext[ Client ] 
    │
    ▼
[ Express API ] ──▶ [ Middleware: Auth & Validation ]
    │
    ▼
[ Service Layer ] ◀─┬─▶ [ Database (PostgreSQL/MongoDB) ]
    │               └─▶ [ Redis Cache / Queue ]
    │
    ▼
[ Stellar SDK ] ──▶ [ Stellar Horizon API ] ──▶ [ Stellar Network ]